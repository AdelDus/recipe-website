# Инструкция для демонстрации проекта преподавателю

## Подготовка к защите (на вашем компьютере)

### Вариант 1: С демо-данными (Рекомендуется)

1. **Убедитесь, что используете SQLite:**
   ```bash
   # Удалите .env если он есть
   del .env
   ```

2. **Заполните базу данных демо-данными:**
   - Добавьте 3-5 рецептов через админ-панель
   - Добавьте к ним ингредиенты и шаги
   - Поставьте несколько лайков
   - Оставьте несколько комментариев

3. **Создайте файл с демо-данными (опционально):**
   ```bash
   python manage.py dumpdata game --indent 4 > demo_data.json
   ```

4. **Закоммитьте базу данных в Git:**
   ```bash
   git add db.sqlite3 demo_data.json
   git commit -m "Add demo database with sample recipes"
   git push
   ```

### Вариант 2: Без демо-данных (чистая установка)

Просто убедитесь, что `.env` не добавлен в Git (он уже в `.gitignore`).

---

## На компьютере преподавателя

### Быстрый запуск (5 минут):

1. **Клонируйте репозиторий:**
   ```bash
   git clone https://github.com/AdelDus/recipe-website.git
   cd recipe-website
   ```

2. **Установите зависимости:**
   ```bash
   pip install -r requirements.txt
   ```

3. **Если база данных уже есть в репозитории:**
   ```bash
   python manage.py runserver
   ```
   Готово! Откройте http://127.0.0.1:8000/

4. **Если базы данных нет (чистая установка):**
   ```bash
   python manage.py migrate
   python manage.py createsuperuser
   python manage.py runserver
   ```

5. **Если есть файл demo_data.json:**
   ```bash
   python manage.py migrate
   python manage.py loaddata demo_data.json
   python manage.py runserver
   ```

---

## Альтернатива: Скрипт быстрого запуска

Используйте файл `quick_start.bat` (создан автоматически):
```bash
quick_start.bat
```

Он автоматически:
- Проверит зависимости
- Применит миграции
- Загрузит демо-данные (если есть)
- Запустит сервер

---

## Что показать преподавателю

### 1. Главная страница (/)
- Список всех рецептов
- Карточки с изображениями
- Время приготовления и количество порций
- Счетчик лайков

### 2. Страница рецепта (/recipe/1/)
- Полное описание
- Список ингредиентов
- Пошаговая инструкция
- Кнопка лайка (работает без перезагрузки!)
- Форма комментариев
- Список комментариев

### 3. Страница "О проекте" (/about/)
- Описание целей проекта

### 4. Админ-панель (/admin/)
- Управление рецептами
- Inline-формы для ингредиентов и шагов
- Управление комментариями

### 5. База данных
- Покажите ER-диаграмму (ER_DIAGRAM.md)
- Объясните связи между таблицами
- Покажите поддержку PostgreSQL (настройки в settings.py)

---

## Возможные вопросы и ответы

**Q: Почему используется SQLite, а не PostgreSQL?**
A: SQLite используется для демонстрации, так как не требует установки дополнительного ПО. Проект полностью поддерживает PostgreSQL для production (см. POSTGRESQL_SETUP.md).

**Q: Как работают лайки?**
A: Используется AJAX для обновления счетчика без перезагрузки страницы. Код в templates/game/recipe_detail.html.

**Q: Где хранятся изображения?**
A: В папке media/recipes/. Настроено в settings.py (MEDIA_ROOT и MEDIA_URL).

**Q: Можно ли добавить рецепт через сайт?**
A: Сейчас только через админ-панель. Добавление через фронтенд - в планах развития.

---

## Устранение проблем

### "No module named 'django'"
```bash
pip install -r requirements.txt
```

### "Table doesn't exist"
```bash
python manage.py migrate
```

### "Port 8000 already in use"
```bash
python manage.py runserver 8001
```

### Изображения не отображаются
Убедитесь, что сервер запущен через `python manage.py runserver`, а не через другой веб-сервер.

---

## Чек-лист перед защитой

- [ ] Проект клонируется с GitHub
- [ ] requirements.txt содержит все зависимости
- [ ] База данных работает (SQLite)
- [ ] Есть демо-данные (рецепты, комментарии)
- [ ] Админ-панель доступна
- [ ] Все страницы открываются
- [ ] Лайки работают
- [ ] Комментарии добавляются
- [ ] README.md содержит инструкции
- [ ] ER-диаграмма готова

---

## Полезные команды

```bash
# Проверить версию Python
python --version

# Проверить установленные пакеты
pip list

# Создать суперпользователя
python manage.py createsuperuser

# Открыть shell Django
python manage.py shell

# Проверить миграции
python manage.py showmigrations

# Собрать статические файлы (если нужно)
python manage.py collectstatic
```
